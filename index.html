<!DOCTYPE html>
<html lang="en">

<head>
    <meta charset="UTF-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <title>Severance - A Workplace Unlike Any Other</title>
    <meta name="description"
        content="Explore the world of Severance, where work-life balance takes on a whole new meaning." />
    <meta name="author" content="Lumon Industries" />

    <meta property="og:title" content="Severance - A Workplace Unlike Any Other" />
    <meta property="og:description"
        content="Explore the world of Severance, where work-life balance takes on a whole new meaning." />
    <meta property="og:type" content="website" />
    <meta property="og:image" content="/assets/Severance126.jpg" />

    <meta name="twitter:card" content="summary_large_image" />
    <meta name="twitter:site" content="@LumonIndustries" />
    <meta name="twitter:image" content="/assets/Severance126.jpg" />

    <!-- Neo-Modernist Typography System Fonts -->
    <link rel="preconnect" href="https://fonts.googleapis.com">
    <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
    <link
        href="https://fonts.googleapis.com/css2?family=JetBrains+Mono:wght@400;500;600&family=Plus+Jakarta+Sans:wght@400;500;600;700&family=Space+Grotesk:wght@300;400;500;600;700&display=swap"
        rel="stylesheet">
    <!-- Trap font needs to be self-hosted or purchased -->
    <link rel="stylesheet" href="/assets/fonts/trap/trap.css">

    <!-- Animation scripts -->
    <script src="/assets/js/split-type.min.js"></script>

    <!-- Load GSAP and related plugins directly from CDN for better cross-browser compatibility -->
    <script src="https://cdnjs.cloudflare.com/ajax/libs/gsap/3.12.2/gsap.min.js"></script>
    <script src="https://cdnjs.cloudflare.com/ajax/libs/gsap/3.12.2/ScrollTrigger.min.js"></script>
    <script src="https://unpkg.com/imagesloaded@5/imagesloaded.pkgd.min.js"></script>
    <!-- Load Lenis for smooth scrolling -->
    <script src="https://cdn.jsdelivr.net/gh/studio-freight/lenis@1.0.19/bundled/lenis.min.js"></script>

    <!-- CSS Variables polyfill for older browsers -->
    <script src="https://cdn.jsdelivr.net/npm/css-vars-ponyfill@2.4.8/dist/css-vars-ponyfill.min.js"></script>
    <script>
        window.addEventListener('DOMContentLoaded', function () {
            if (typeof cssVars === 'function') {
                cssVars({
                    include: 'style,link[rel=stylesheet]',
                    onlyLegacy: true,
                    silent: true
                });
            }
        });
    </script>

    <!-- Fallback for GSAP loading -->
    <script>
        window.addEventListener('DOMContentLoaded', function () {
            // Check if GSAP is loaded
            if (!window.gsap) {
                console.warn('GSAP not loaded from CDN, trying alternative source');
                // Try loading from local as fallback
                var gsapScript = document.createElement('script');
                gsapScript.src = '/assets/js/gsap.min.js';
                gsapScript.async = false;
                document.head.appendChild(gsapScript);

                // Check again after a short delay
                setTimeout(function () {
                    if (!window.gsap) {
                        console.error('Failed to load GSAP from all sources');
                    } else {
                        console.log('GSAP loaded successfully from fallback');

                        // Load ScrollTrigger if GSAP is loaded but ScrollTrigger isn't
                        if (!window.ScrollTrigger) {
                            var scrollTriggerScript = document.createElement('script');
                            scrollTriggerScript.src = '/assets/js/ScrollTrigger.min.js';
                            scrollTriggerScript.async = false;
                            document.head.appendChild(scrollTriggerScript);
                        }
                    }
                }, 1000);
            } else {
                console.log('GSAP loaded successfully from CDN');

                // Check if ScrollTrigger is loaded
                if (!window.ScrollTrigger) {
                    console.warn('ScrollTrigger not loaded from CDN, trying alternative source');
                    var scrollTriggerScript = document.createElement('script');
                    scrollTriggerScript.src = '/assets/js/ScrollTrigger.min.js';
                    scrollTriggerScript.async = false;
                    document.head.appendChild(scrollTriggerScript);
                }
            }

            // Register ScrollTrigger plugin if both are loaded
            if (window.gsap && window.ScrollTrigger) {
                gsap.registerPlugin(ScrollTrigger);
            }
        });
    </script>
</head>

<body>
    <div id="root"></div>
    <script type="module" src="/src/main.tsx"></script>
</body>

</html>
